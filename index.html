<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simulatore di Risonanza</title>
    <link rel="stylesheet" href="style.css" />
    <script src="p5.min.js" defer></script>
    <script src="sketch.js" defer></script>
  </head>
  <body>
    <main id="app-container">
      <div id="canvas-container"></div>
      <aside id="ui-sidebar">
        <header>
          <h1>Risonanza</h1>
          <p>Simulatore di Onde</p>
        </header>
        <div class="ui-panel">
          <h2 class="panel-header">Formati Canvas</h2>
          <div class="panel-content">
            <div class="preset-group">
              <select id="format-select">
                <option value="595x842">Stampa: A4 (Verticale)</option>
                <option value="842x1191">Stampa: A3 (Verticale)</option>
                <option value="1080x1350">Social: Post Instagram (4:5)</option>
                <option value="1080x1920">
                  Social: Storia Instagram (9:16)
                </option>
                <option value="1200x630">Social: Post Facebook</option>
                <option value="1920x1080">Web: Grande (16:9)</option>
                <option value="1024x768">Web: Piccolo (4:3)</option>
                <option value="custom">-- Formato Personalizzato --</option>
              </select>
            </div>
            <div id="custom-format-inputs" class="hidden">
              <div class="input-group">
                <label for="custom-width">Larghezza (px)</label>
                <input type="number" id="custom-width" value="595" />
              </div>
              <div class="input-group">
                <label for="custom-height">Altezza (px)</label>
                <input type="number" id="custom-height" value="842" />
              </div>
            </div>
            <button id="apply-format-btn">Applica Formato</button>
          </div>
        </div>
        <div class="ui-panel">
          <h2 class="panel-header">Onde Primarie</h2>
          <div class="panel-content">
            <div
              class="slider-group"
              data-key="speedPrimary"
              data-target="config"
            >
              <label>Velocità <span class="value-display">30</span></label>
              <input type="range" min="1" max="200" step="1" value="30" />
            </div>
            <div
              class="slider-group"
              data-key="intervalPrimary"
              data-target="config"
            >
              <label>Frequenza <span class="value-display">0.30</span></label>
              <input type="range" min="0.05" max="2" step="0.01" value="0.3" />
            </div>
            <div
              class="slider-group"
              data-key="strokePrimary"
              data-target="config"
            >
              <label>Spessore <span class="value-display">80</span></label>
              <input type="range" min="1" max="200" step="1" value="80" />
            </div>
            <div
              class="slider-group"
              data-key="alphaPrimary"
              data-target="config"
            >
              <label>Opacità <span class="value-display">0.80</span></label>
              <input type="range" min="0.01" max="1" step="0.01" value="0.8" />
            </div>
            <div
              class="slider-group"
              data-key="decayFactorPrimary"
              data-target="config"
            >
              <label>Durata <span class="value-display">1.5</span></label>
              <input type="range" min="0.1" max="5" step="0.1" value="1.5" />
            </div>
          </div>
        </div>
        <div class="ui-panel">
          <h2 class="panel-header">Onde Secondarie</h2>
          <div class="panel-content">
            <div
              class="slider-group"
              data-key="speedSecondary"
              data-target="config"
            >
              <label>Velocità <span class="value-display">30</span></label>
              <input type="range" min="1" max="200" step="1" value="30" />
            </div>
            <div
              class="slider-group"
              data-key="intervalSecondary"
              data-target="config"
            >
              <label>Frequenza <span class="value-display">0.20</span></label>
              <input type="range" min="0.05" max="2" step="0.01" value="0.2" />
            </div>
            <div
              class="slider-group"
              data-key="strokeSecondary"
              data-target="config"
            >
              <label>Spessore <span class="value-display">40</span></label>
              <input type="range" min="1" max="200" step="1" value="40" />
            </div>
            <div
              class="slider-group"
              data-key="alphaSecondary"
              data-target="config"
            >
              <label>Opacità <span class="value-display">0.80</span></label>
              <input type="range" min="0.01" max="1" step="0.01" value="0.8" />
            </div>
            <div
              class="slider-group"
              data-key="decayFactorSecondary"
              data-target="config"
            >
              <label>Durata <span class="value-display">1.5</span></label>
              <input type="range" min="0.1" max="5" step="0.1" value="1.5" />
            </div>
          </div>
        </div>
        <div class="ui-panel">
          <h2 class="panel-header">Simulazione</h2>
          <div class="panel-content">
            <div class="slider-group" data-key="maxWaves" data-target="config">
              <label
                >Numero Fronti Onda <span class="value-display">5</span></label
              >
              <input type="range" min="1" max="20" step="1" value="5" />
            </div>
            <div
              class="slider-group"
              data-key="maxReflections"
              data-target="config"
            >
              <label>Riflessioni <span class="value-display">2</span></label>
              <input type="range" min="0" max="5" step="1" value="2" />
            </div>
            <div
              class="slider-group"
              data-key="maxSources"
              data-target="config"
            >
              <label>Max Sorgenti <span class="value-display">50</span></label>
              <input type="range" min="1" max="200" step="1" value="50" />
            </div>
          </div>
        </div>
        <div class="ui-panel">
          <h2 class="panel-header">Stile & Esporta</h2>
          <div class="panel-content">
            <div class="color-picker-group">
              <label for="bg">Colore Sfondo</label>
              <input
                type="color"
                id="bg"
                data-key="bg"
                data-target="pal"
                value="#ffffff"
              />
            </div>
            <div class="color-picker-group">
              <label for="stroke">Colore Primario</label>
              <input
                type="color"
                id="stroke"
                data-key="stroke"
                data-target="pal"
                value="#34553c"
              />
            </div>
            <div class="color-picker-group">
              <label for="stroke2">Colore Secondario</label>
              <input
                type="color"
                id="stroke2"
                data-key="stroke2"
                data-target="pal"
                value="#5bd44c"
              />
            </div>
            <div
              class="checkbox-group"
              data-key="saveBackground"
              data-target="config"
            >
              <label>
                <input type="checkbox" checked />
                Includi sfondo nell'export
              </label>
            </div>
            <button id="save-waves-btn">Esporta PNG</button>
          </div>
        </div>
        <footer>
          <div id="quick-controls">
            <button id="pause-btn">Pausa</button>
            <button id="clear-btn">Pulisci</button>
            <button id="reset-btn">Reset</button>
          </div>
          <div id="stats-display">
            <span>FPS: 0</span>
            <span>Sorgenti: 0</span>
            <span>Onde: 0</span>
          </div>
          <div id="shortcuts">
            <p>
              Shortcuts: [Spazio] Pausa | [C] Pulisci | [R] Reset | [S] Salva
            </p>
          </div>
        </footer>
      </aside>
    </main>
  </body>
</html>
